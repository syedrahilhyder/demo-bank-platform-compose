1. End-to-end flow tracing

â€œShow me the complete end-to-end flow for a local transfer initiated via /ops/transfer, including all internal method calls and external service calls.â€

ğŸ‘‰ Tests:

Controller â†’ Facade â†’ Pipeline â†’ Router â†’ Handler

Cross-repo REST calls

Ledger posting

Compensation paths
-------------------------------------------------------

2. Cross-repo dependency graph

â€œWhich services are involved when a local payment is initiated, and how do they depend on each other?â€

ğŸ‘‰ Expected:

operations-hub â†’ payments â†’ limits/account â†’ ledger

call direction + ports

sync vs async edges
-------------------------------------------------------

3. Method-level call graph

â€œInside TransferHandler, list all internal method calls and external API calls in the order they are executed.â€

ğŸ‘‰ Tests:

Intra-class call graph

Outbound HTTP connectors

Compensation stack
-------------------------------------------------------
4. Failure & compensation analysis

â€œWhat happens if ledger posting fails during a local transfer? Which compensating actions are triggered?â€

ğŸ‘‰ Expected:

Hold placement

Ledger failure

Hold release via compensation

Final status returned
-------------------------------------------------------

5. Async execution reasoning

â€œHow does /ops/transfer-async differ from /ops/transfer in execution flow and thread model?â€

ğŸ‘‰ Tests:

@Async

fire-and-forget logic

differences in observability & result handling
-------------------------------------------------------

6. Event-driven flow reasoning

â€œExplain how AML screening affects payment finalization, starting from payment initiation to account debit.â€

ğŸ‘‰ Expected:

Kafka topics

PaymentInitiatedEvent

AmlResultListener

Account debit + payment finalization
-------------------------------------------------------

7. Strategy pattern detection

â€œWhich payment strategies are implemented in payments-service and how are they selected at runtime?â€

ğŸ‘‰ Tests:

StrategyFactory

Local / International / Utility

Pre-process / execute / post-process hooks
-------------------------------------------------------

8. Impact analysis (change blast radius)

â€œIf I change the signature of AccountClient.hold(), which services and methods will be impacted?â€

ğŸ‘‰ Expected:

operations-hub handlers

payments pre-auth logic

compile-time + runtime impact
-------------------------------------------------------

9. Security & risk reasoning

â€œWhere are risk checks and limits enforced in the system, and what gaps exist that could allow fraudulent transactions?â€

ğŸ‘‰ Tests:

Limits service usage

Risk step in pipeline

Missing idempotency / replay protection

Gaps across async flows

-------------------------------------------------------
10. Architectural critique (very senior)

â€œIdentify architectural smells or improvement opportunities in the transfer flow and suggest refactoring steps.â€

ğŸ‘‰ Expected insights:

Orchestration vs choreography

Synchronous coupling

Missing sagas / idempotency keys

Centralized vs distributed validation

Observability gaps
-------------------------------------------------------

11. â€œGenerate a sequence diagram for an international transfer, including async steps, Kafka events, and compensatio
